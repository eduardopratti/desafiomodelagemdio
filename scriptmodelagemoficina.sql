-- MySQL Script generated by MySQL Workbench
-- Fri Feb 20 19:37:28 2026
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`AUTORIZACAO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`AUTORIZACAO` ;

CREATE TABLE IF NOT EXISTS `mydb`.`AUTORIZACAO` (
  `idAUTORIZACAO` INT NOT NULL,
  `STATUS` VARCHAR(45) NULL,
  `CLIENTES_idCLIENTES` INT NOT NULL,
  `ORDEMSERVICO_idORDEMSERVICO` INT NOT NULL,
  PRIMARY KEY (`idAUTORIZACAO`, `CLIENTES_idCLIENTES`, `ORDEMSERVICO_idORDEMSERVICO`),
  INDEX `fk_AUTORIZACAO_CLIENTES1_idx` (`CLIENTES_idCLIENTES` ASC) VISIBLE,
  INDEX `fk_AUTORIZACAO_ORDEMSERVICO1_idx` (`ORDEMSERVICO_idORDEMSERVICO` ASC) VISIBLE,
  CONSTRAINT `fk_AUTORIZACAO_CLIENTES1`
    FOREIGN KEY (`CLIENTES_idCLIENTES`)
    REFERENCES `mydb`.`CLIENTES` (`idCLIENTES`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AUTORIZACAO_ORDEMSERVICO1`
    FOREIGN KEY (`ORDEMSERVICO_idORDEMSERVICO`)
    REFERENCES `mydb`.`ORDEMSERVICO` (`idORDEMSERVICO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CLIENTES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`CLIENTES` ;

CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTES` (
  `idCLIENTES` INT NOT NULL,
  `NOME` VARCHAR(45) NULL,
  `EMAIL` VARCHAR(45) NULL,
  PRIMARY KEY (`idCLIENTES`),
  UNIQUE INDEX `EMAIL_UNIQUE` (`EMAIL` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DETALHEMAODEOBRA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`DETALHEMAODEOBRA` ;

CREATE TABLE IF NOT EXISTS `mydb`.`DETALHEMAODEOBRA` (
  `SERVICOS_idSERVICOS` INT NOT NULL,
  `ORDEMSERVICO_idORDEMSERVICO` INT NOT NULL,
  PRIMARY KEY (`SERVICOS_idSERVICOS`, `ORDEMSERVICO_idORDEMSERVICO`),
  INDEX `fk_SERVICOS_has_ORDEMSERVICO_ORDEMSERVICO1_idx` (`ORDEMSERVICO_idORDEMSERVICO` ASC) VISIBLE,
  INDEX `fk_SERVICOS_has_ORDEMSERVICO_SERVICOS1_idx` (`SERVICOS_idSERVICOS` ASC) VISIBLE,
  CONSTRAINT `fk_SERVICOS_has_ORDEMSERVICO_SERVICOS1`
    FOREIGN KEY (`SERVICOS_idSERVICOS`)
    REFERENCES `mydb`.`SERVICOS` (`idSERVICOS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SERVICOS_has_ORDEMSERVICO_ORDEMSERVICO1`
    FOREIGN KEY (`ORDEMSERVICO_idORDEMSERVICO`)
    REFERENCES `mydb`.`ORDEMSERVICO` (`idORDEMSERVICO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DETALHESERVFUNCIONARIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`DETALHESERVFUNCIONARIO` ;

CREATE TABLE IF NOT EXISTS `mydb`.`DETALHESERVFUNCIONARIO` (
  `MECANICOS_idMECANICOS` INT NOT NULL,
  `ORDEMSERVICO_idORDEMSERVICO` INT NOT NULL,
  PRIMARY KEY (`MECANICOS_idMECANICOS`, `ORDEMSERVICO_idORDEMSERVICO`),
  INDEX `fk_MECANICOS_has_ORDEMSERVICO_ORDEMSERVICO1_idx` (`ORDEMSERVICO_idORDEMSERVICO` ASC) VISIBLE,
  INDEX `fk_MECANICOS_has_ORDEMSERVICO_MECANICOS1_idx` (`MECANICOS_idMECANICOS` ASC) VISIBLE,
  CONSTRAINT `fk_MECANICOS_has_ORDEMSERVICO_MECANICOS1`
    FOREIGN KEY (`MECANICOS_idMECANICOS`)
    REFERENCES `mydb`.`MECANICOS` (`idMECANICOS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MECANICOS_has_ORDEMSERVICO_ORDEMSERVICO1`
    FOREIGN KEY (`ORDEMSERVICO_idORDEMSERVICO`)
    REFERENCES `mydb`.`ORDEMSERVICO` (`idORDEMSERVICO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DETALHESERVMATERIAL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`DETALHESERVMATERIAL` ;

CREATE TABLE IF NOT EXISTS `mydb`.`DETALHESERVMATERIAL` (
  `ORDEMSERVICO_idORDEMSERVICO` INT NOT NULL,
  `PECAS_idPECAS` INT NOT NULL,
  PRIMARY KEY (`ORDEMSERVICO_idORDEMSERVICO`, `PECAS_idPECAS`),
  INDEX `fk_ORDEMSERVICO_has_PECAS_PECAS1_idx` (`PECAS_idPECAS` ASC) VISIBLE,
  INDEX `fk_ORDEMSERVICO_has_PECAS_ORDEMSERVICO1_idx` (`ORDEMSERVICO_idORDEMSERVICO` ASC) VISIBLE,
  CONSTRAINT `fk_ORDEMSERVICO_has_PECAS_ORDEMSERVICO1`
    FOREIGN KEY (`ORDEMSERVICO_idORDEMSERVICO`)
    REFERENCES `mydb`.`ORDEMSERVICO` (`idORDEMSERVICO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ORDEMSERVICO_has_PECAS_PECAS1`
    FOREIGN KEY (`PECAS_idPECAS`)
    REFERENCES `mydb`.`PECAS` (`idPECAS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`MECANICOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`MECANICOS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`MECANICOS` (
  `idMECANICOS` INT NOT NULL,
  `NOME` VARCHAR(45) NULL,
  `ENDERECO` VARCHAR(45) NULL,
  `ESPECIALIDADE` VARCHAR(45) NULL,
  PRIMARY KEY (`idMECANICOS`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ORDEMSERVICO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ORDEMSERVICO` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ORDEMSERVICO` (
  `idORDEMSERVICO` INT NOT NULL,
  `NUMERO` INT NULL,
  `VALOR` FLOAT NULL,
  `STATUS` VARCHAR(45) NULL,
  `PREVISAO` DATE NULL,
  `VEICULOS_idVEICULOS` INT NOT NULL,
  `VEICULOS_CLIENTES_idCLIENTES` INT NOT NULL,
  PRIMARY KEY (`idORDEMSERVICO`, `VEICULOS_idVEICULOS`, `VEICULOS_CLIENTES_idCLIENTES`),
  UNIQUE INDEX `NUMERO_UNIQUE` (`NUMERO` ASC) VISIBLE,
  INDEX `fk_ORDEMSERVICO_VEICULOS1_idx` (`VEICULOS_idVEICULOS` ASC, `VEICULOS_CLIENTES_idCLIENTES` ASC) VISIBLE,
  CONSTRAINT `fk_ORDEMSERVICO_VEICULOS1`
    FOREIGN KEY (`VEICULOS_idVEICULOS` , `VEICULOS_CLIENTES_idCLIENTES`)
    REFERENCES `mydb`.`VEICULOS` (`idVEICULOS` , `CLIENTES_idCLIENTES`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PECAS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PECAS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PECAS` (
  `idPECAS` INT NOT NULL,
  `DESCRICAO` VARCHAR(45) NULL,
  `TIPO` VARCHAR(45) NULL,
  `VALOR` VARCHAR(45) NULL,
  PRIMARY KEY (`idPECAS`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`SERVICOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`SERVICOS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`SERVICOS` (
  `idSERVICOS` INT NOT NULL,
  `DESCRICAO` VARCHAR(45) NULL,
  `TIPO` VARCHAR(45) NULL,
  `VALOR` FLOAT NULL,
  PRIMARY KEY (`idSERVICOS`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`VEICULOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`VEICULOS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`VEICULOS` (
  `idVEICULOS` INT NOT NULL,
  `TIPO` VARCHAR(45) NULL,
  `PLACA` VARCHAR(45) NULL,
  `MODELO` VARCHAR(45) NULL,
  `CLIENTES_idCLIENTES` INT NOT NULL,
  PRIMARY KEY (`idVEICULOS`, `CLIENTES_idCLIENTES`),
  UNIQUE INDEX `PLACA_UNIQUE` (`PLACA` ASC) VISIBLE,
  INDEX `fk_VEICULOS_CLIENTES_idx` (`CLIENTES_idCLIENTES` ASC) VISIBLE,
  CONSTRAINT `fk_VEICULOS_CLIENTES`
    FOREIGN KEY (`CLIENTES_idCLIENTES`)
    REFERENCES `mydb`.`CLIENTES` (`idCLIENTES`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
